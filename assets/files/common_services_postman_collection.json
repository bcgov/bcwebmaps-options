{
	"info": {
		"_postman_id": "7d740c0f-fdde-429b-814c-130d9793c811",
		"name": "Common Services",
		"description": "# Common Services - APIs\nThis Postman collection demonstrates the APIs available to you with your Common Services client.  \n\n## Services\nPlease review the API documents before proceeding. The more familiar you are with the API calls, the more useful you will find the examples in this collection.  \n\n### CHES\nThe CHES API is capable of doing the following:\n\n* Send emails with attachments and special business tagging. \n* Schedule for delayed delivery, with ability to cancel. \n* Create bulk email merge with your own templates.  \n* Send plain text or HTML emails. \n* Track the status of your request. \n\nReview the v1 API specification [here](https://ches-master-9f0fbe-prod.pathfinder.gov.bc.ca/api/v1/docs).  \n\nSee Showcase application [here](https://mssc.pathfinder.gov.bc.ca/mssc/).  \n\n### CDOGS\nThe CDOGS API is capable of doing the following:\n\n* Merge complex datasets into document templates. \n* Supports any XML-based document templates including but not limited to Microsoft Office™, LibreOffice™ or OpenOffice™. \n* Rich templating library support leveraging the Carbone JS library. \n\nReview the v1 API specification [here](https://cdogs-master-idcqvl-prod.pathfinder.gov.bc.ca/api/v1/docs#tag/DocGen).  \n\nReview the v2 API specification [here](https://cdogs-master-idcqvl-prod.pathfinder.gov.bc.ca/api/v2/docs#tag/DocGen).\n\nSee Showcase application [here](https://dgrsc.pathfinder.gov.bc.ca/dgrsc/).  \n\n\n## Setup\nYou will need to set the [collection variables](https://learning.postman.com/docs/postman/collections/intro-to-collections/), or run the tests with an [environment](https://learning.postman.com/docs/postman/variables-and-environments/managing-environments/) that configures the following:  \n\n| Name | Description |\n| --- | --- |\n| auth\\_host | Host for authentication service to get client token |\n| cdogs\\_host | Host for CDOGS Service |\n| ches\\_host | Host for CHES Service |\n| service\\_client\\_id | Set this to *YOUR* client id from GETOK |\n| service\\_client\\_secret | Set this to *YOUR* client secret from GETOK |\n| email\\_to | Set this to *YOUR* email, you will get emails from CHES |\n\n  \n\n### Environments \nBy default, the hosts are set to the DEV environment.\n\n| DEV | URL |\n| --- | --- |\n| auth\\_host | https://sso-dev.pathfinder.gov.bc.ca |\n| cdogs\\_host | https://cdogs-master-idcqvl-dev.pathfinder.gov.bc.ca |\n| ches\\_host | https://ches-master-9f0fbe-dev.pathfinder.gov.bc.ca |\n\n| TEST | URL |\n| --- | --- |\n| auth\\_host | https://sso-test.pathfinder.gov.bc.ca |\n| cdogs\\_host | https://cdogs-master-idcqvl-test.pathfinder.gov.bc.ca |\n| ches\\_host | https://ches-master-9f0fbe-test.pathfinder.gov.bc.ca |\n\n| PROD | URL |\n| --- | --- |\n| auth\\_host | https://sso.pathfinder.gov.bc.ca |\n| cdogs\\_host | https://cdogs-master-idcqvl-prod.pathfinder.gov.bc.ca |\n| ches\\_host | https://ches-master-9f0fbe-prod.pathfinder.gov.bc.ca |\n\n## Overview\nOnce you have set the host and client id/secret variables, you can begin running the API calls. The order of the calls is very important, as each call will set variables that are used in subsequent calls. In particular, you will always want to run \"Request a Token\" first.  If you encounter any 401 responses, try getting a new token.  \n\nEach of the calls has a test (ensuring an expected response, checking headers, response values, etc.). Feel free to familiarize yourself with [tests and scripts](https://learning.postman.com/docs/postman/scripts/intro-to-scripts/). There is code in some Pre-request Scripts and Tests.  For example, setting the delayTS variable for delayed emails is done in a Pre-request Script. All ids used for getting or deleting a particular resource are done in Test scripts (read value, set a collection variable for next test).  \n\nIn the urls and the request body, you will notice collection variables or test variables like: `{{email_to}}`, `{{auth_host}}` and `{{delay_ts}}`.  In the CDOGS calls, you may notice a different variable substitution: `{d.firstName}` - this is for the CDOGS template substitution, not the Postman substitution.  Look at [CDOGS Application readme](https://github.com/bcgov/common-document-generation-service/blob/master/app/README.md) for more information.   \n\n### Run the collection\nUse the [collection runner](https://learning.postman.com/docs/postman/collection-runs/intro-to-collection-runs/) to completely smoke test your credentials and the Common Services environments.  When running the collection, you should de-select the final call: **\"CDOGS/upload template (select local template for body)\"**, this call requires you to select a local file to upload as a template and cannot be automated.  Also, if you have previously uploaded a file through this call, you can expect to receive a 405 if the template is still in the server cache.    \n\n\n",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Request a Token",
			"item": [
				{
					"name": "Request a Token",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a80fbc93-9178-4cb5-a71a-74b02a4c4bed",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('access_token');",
									"    pm.collectionVariables.set('access_token', jsonData.access_token);",
									"    pm.collectionVariables.set('session_tag', jsonData.session_state.substring(0,8));",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "{{service_client_secret}}",
									"type": "string"
								},
								{
									"key": "username",
									"value": "{{service_client_id}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "grant_type",
									"value": "client_credentials",
									"type": "text"
								}
							],
							"options": {
								"urlencoded": {}
							}
						},
						"url": {
							"raw": "{{auth_host}}/auth/realms/jbd6rnxw/protocol/openid-connect/token",
							"host": [
								"{{auth_host}}"
							],
							"path": [
								"auth",
								"realms",
								"jbd6rnxw",
								"protocol",
								"openid-connect",
								"token"
							]
						},
						"description": "This request will get an OAuth Access Token that is required for calls to the Common Services API's.\n\nThe reponse from this request (the Access Token) can be attached to the top level 'Common Services' collection and then 'Inherited from parent' by the requests contained inside it."
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "CHES - Hosted Email Service",
			"item": [
				{
					"name": "health check",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "da5a309a-526a-4150-8475-19a06fe0878b",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('dependencies');",
									"    pm.expect(jsonData.dependencies).to.have.length(3);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{ches_host}}/api/v1/health",
							"host": [
								"{{ches_host}}"
							],
							"path": [
								"api",
								"v1",
								"health"
							]
						}
					},
					"response": []
				},
				{
					"name": "send email message",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "ad6f35c9-10d8-4271-a671-3729b532efbd",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "7d8c5344-8bcd-4597-80de-29e9653e0d07",
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('txId');",
									"    pm.expect(jsonData).to.have.property('messages');",
									"    pm.expect(jsonData.messages).to.have.length(1);",
									"    pm.expect(jsonData.messages[0]).to.have.property('to');",
									"    pm.expect(jsonData.messages[0].to[0]).to.eql(pm.variables.get('email_to'));",
									"    pm.collectionVariables.set('email_msg_id', jsonData.messages[0].msgId);",
									"    pm.collectionVariables.set('email_tx_id', jsonData.txId);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"bcc\": [],\n  \"bodyType\": \"html\",\n  \"body\": \"<h1>Welcome to Common Services</h1><p>Sent by <a href='https://bcgov.github.io/common-hosted-email-service/'>CHES</a></p>\",\n  \"cc\": [],\n  \"delayTS\": 0,\n  \"encoding\": \"utf-8\",\n  \"from\": \"{{email_to}}\",\n  \"priority\": \"normal\",\n  \"subject\": \"CHES Email Message\",\n  \"to\": [\"{{email_to}}\"],\n  \"tag\": \"email_{{session_tag}}\",\n  \"attachments\": [\n    {\n      \"content\": \"IyBDb21tb24gSG9zdGVkIEVtYWlsIFNlcnZpY2UKTmVlZCB0byBzZW5kIGVtYWlscz8gTmVlZCB0byBzZW5kIGJ1bGsgZW1haWxzPyBOZWVkIHRvIHNlbmQgdGVtcGxhdGVkIG1lc3NhZ2VzIHBvcHVsYXRlZCBmcm9tIGEgZGF0YXNldD8gTmVlZCB0byBzY2hlZHVsZSBkZWxpdmVyeSBvZiBlbWFpbHM/ICAKClRoZSBDSEVTIEFQSSBpcyBjYXBhYmxlIG9mIGRvaW5nIHRoZSBmb2xsb3dpbmc6CgoqIFNlbmQgZW1haWxzIHdpdGggYXR0YWNobWVudHMgYW5kIHNwZWNpYWwgYnVzaW5lc3MgdGFnZ2luZy4gCiogU2NoZWR1bGUgZm9yIGRlbGF5ZWQgZGVsaXZlcnksIHdpdGggYWJpbGl0eSB0byBjYW5jZWwuIAoqIENyZWF0ZSBidWxrIGVtYWlsIG1lcmdlIHdpdGggeW91ciBvd24gdGVtcGxhdGVzLiAgCiogU2VuZCBwbGFpbiB0ZXh0IG9yIEhUTUwgZW1haWxzLiAKKiBUcmFjayB0aGUgc3RhdHVzIG9mIHlvdXIgcmVxdWVzdC4gCgpSZXZpZXcgdGhlIHYxIEFQSSBzcGVjaWZpY2F0aW9uIFtoZXJlXShodHRwczovL2NoZXMtbWFzdGVyLTlmMGZiZS1wcm9kLnBhdGhmaW5kZXIuZ292LmJjLmNhL2FwaS92MS9kb2NzKS4gIAoKU2VlIFNob3djYXNlIGFwcGxpY2F0aW9uIFtoZXJlXShodHRwczovL21zc2MucGF0aGZpbmRlci5nb3YuYmMuY2EvbXNzYy8pLiAgCgpTZWUgc291cmNlIGNvZGUgW2hlcmVdKGh0dHBzOi8vZ2l0aHViLmNvbS9iY2dvdi9jb21tb24taG9zdGVkLWVtYWlsLXNlcnZpY2UpLiAgCgpNb3JlIGluZm9ybWF0aW9uIFtoZXJlXShodHRwczovL2JjZ292LmdpdGh1Yi5pby9jb21tb24taG9zdGVkLWVtYWlsLXNlcnZpY2UvKS4gIAoKIyBDb21tb24gRG9jdW1lbnQgR2VuZXJhdGlvbiBTZXJ2aWNlCkxldmVyYWdlIHlvdXIgc3RydWN0dXJlZCBkYXRhc2V0cyBhbmQgeW91ciBidXNpbmVzcyB0ZW1wbGF0ZXMgdG8gYXV0b21hdGljYWxseSBwb3B1bGF0ZSBwcmludGFibGUgZG9jdW1lbnRzLCBzcHJlYWRzaGVldHMsIHByZXNlbnRhdGlvbnMsIG9yIFBERnMgdXNpbmcgdGhlIENvbW1vbiBEb2N1bWVudCBHZW5lcmF0aW9uIFNlcnZpY2UuICAKClRoZSBBUEkgY2FuIGdlbmVyYXRlIGFueSBQREYgb3IgWE1MLWJhc2VkIGRvY3VtZW50cyBzdWNoIGFzIGRvY3gsIHhsc3gsIHBwdHgsIG9kdCwgb2RzLCBvZHAsIGFuZCBodG1sLiBFeGFtcGxlcyBvZiBYTUwtYmFzZWQgZWRpdG9ycyBpbmNsdWRlIE1pY3Jvc29mdCBPZmZpY2XihKIsIExpYnJlT2ZmaWNl4oSiIG9yIE9wZW5PZmZpY2XihKIuCgpUaGUgQ0RPR1MgQVBJIGlzIGNhcGFibGUgb2YgZG9pbmcgdGhlIGZvbGxvd2luZzoKCiogTWVyZ2UgY29tcGxleCBkYXRhc2V0cyBpbnRvIGRvY3VtZW50IHRlbXBsYXRlcy4gCiogU3VwcG9ydHMgYW55IFhNTC1iYXNlZCBkb2N1bWVudCB0ZW1wbGF0ZXMgaW5jbHVkaW5nIGJ1dCBub3QgbGltaXRlZCB0byBNaWNyb3NvZnQgT2ZmaWNl4oSiLCBMaWJyZU9mZmljZeKEoiBvciBPcGVuT2ZmaWNl4oSiLiAKKiBSaWNoIHRlbXBsYXRpbmcgbGlicmFyeSBzdXBwb3J0IGxldmVyYWdpbmcgdGhlIENhcmJvbmUgSlMgbGlicmFyeS4gCgpSZXZpZXcgdGhlIHYxIEFQSSBzcGVjaWZpY2F0aW9uIFtoZXJlXShodHRwczovL2Nkb2dzLW1hc3Rlci1pZGNxdmwtcHJvZC5wYXRoZmluZGVyLmdvdi5iYy5jYS9hcGkvdjEvZG9jcyN0YWcvRG9jR2VuKS4gIAoKUmV2aWV3IHRoZSB2MiBBUEkgc3BlY2lmaWNhdGlvbiBbaGVyZV0oaHR0cHM6Ly9jZG9ncy1tYXN0ZXItaWRjcXZsLXByb2QucGF0aGZpbmRlci5nb3YuYmMuY2EvYXBpL3YyL2RvY3MjdGFnL0RvY0dlbikuICAKClNlZSBTaG93Y2FzZSBhcHBsaWNhdGlvbiBbaGVyZV0oaHR0cHM6Ly9kZ3JzYy5wYXRoZmluZGVyLmdvdi5iYy5jYS9kZ3JzYy8pLiAgCgpTZWUgc291cmNlIGNvZGUgW2hlcmVdKGh0dHBzOi8vZ2l0aHViLmNvbS9iY2dvdi9jb21tb24tZG9jdW1lbnQtZ2VuZXJhdGlvbi1zZXJ2aWNlKS4gIAoKTW9yZSBpbmZvcm1hdGlvbiBbaGVyZV0oaHR0cHM6Ly9iY2dvdi5naXRodWIuaW8vY29tbW9uLWRvY3VtZW50LWdlbmVyYXRpb24tc2VydmljZS8pLiAgCgoKIyMjIyBDb21tb24gU2VydmljZXMgU2hvd2Nhc2UKVmlzaXQgW0NvbW1vbiBTZXJ2aWNlcyBTaG93Y2FzZV0oaHR0cHM6Ly9iY2dvdi5naXRodWIuaW8vY29tbW9uLXNlcnZpY2Utc2hvd2Nhc2UvKSBmb3IgbW9yZSBpbmZvcm1hdGlvbjsgaW5jbHVkaW5nIGhvdyB0byBnZXQgYWNjZXNzIHRvIGNvbW1vbiBzZXJ2aWNlcy4gICA=\",\n      \"contentType\": \"text/markdown\",\n      \"encoding\": \"base64\",\n      \"filename\": \"readme.md\"\n    }\n  ]\n}\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{ches_host}}/api/v1/email",
							"host": [
								"{{ches_host}}"
							],
							"path": [
								"api",
								"v1",
								"email"
							],
							"query": [
								{
									"key": "devMode",
									"value": "true",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "get status history of message",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "7acb0b39-bda8-4a6f-9620-3019502f8a70",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('txId');",
									"    pm.expect(jsonData).to.have.property('msgId');",
									"    pm.expect(jsonData).to.have.property('txId',pm.collectionVariables.get('email_tx_id'));",
									"    pm.expect(jsonData).to.have.property('msgId', pm.collectionVariables.get('email_msg_id'));",
									"    pm.expect(jsonData).to.have.property('statusHistory');",
									"    pm.expect(jsonData.statusHistory).to.have.lengthOf.at.least(1);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{ches_host}}/api/v1/status/{{email_msg_id}}",
							"host": [
								"{{ches_host}}"
							],
							"path": [
								"api",
								"v1",
								"status",
								"{{email_msg_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "get status by transaction id (txId)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "79d9eaa5-6c41-4950-a812-ba6fb41a8884",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.be.an('array');",
									"    pm.expect(jsonData).to.have.lengthOf(1);",
									"    pm.expect(jsonData[0]).to.have.property('txId',pm.collectionVariables.get('email_tx_id'));",
									"    pm.expect(jsonData[0]).to.have.property('msgId', pm.collectionVariables.get('email_msg_id'));",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{ches_host}}/api/v1/status?txId={{email_tx_id}}",
							"host": [
								"{{ches_host}}"
							],
							"path": [
								"api",
								"v1",
								"status"
							],
							"query": [
								{
									"key": "msgId",
									"value": "7ebbbdad-0671-44aa-91d9-36151308df73",
									"disabled": true
								},
								{
									"key": "status",
									"value": "completed",
									"disabled": true
								},
								{
									"key": "tag",
									"value": "tag",
									"disabled": true
								},
								{
									"key": "txId",
									"value": "{{email_tx_id}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "get status by message id (msgId)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "1c11dbcf-5ee1-4e77-a427-411b70a0c4eb",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.be.an('array');",
									"    pm.expect(jsonData).to.have.lengthOf(1);",
									"    pm.expect(jsonData[0]).to.have.property('txId',pm.collectionVariables.get('email_tx_id'));",
									"    pm.expect(jsonData[0]).to.have.property('msgId', pm.collectionVariables.get('email_msg_id'));",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{ches_host}}/api/v1/status?msgId={{email_msg_id}}",
							"host": [
								"{{ches_host}}"
							],
							"path": [
								"api",
								"v1",
								"status"
							],
							"query": [
								{
									"key": "msgId",
									"value": "7ebbbdad-0671-44aa-91d9-36151308df73",
									"disabled": true
								},
								{
									"key": "status",
									"value": "completed",
									"disabled": true
								},
								{
									"key": "tag",
									"value": "tag",
									"disabled": true
								},
								{
									"key": "msgId",
									"value": "{{email_msg_id}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "get status by tag",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "e34e7046-fcce-4b1d-adc8-e3bd1e6e7e7b",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.be.an('array');",
									"    pm.expect(jsonData).to.have.length.of.at.least(1);",
									"    pm.expect(jsonData.some(x => x.txId === pm.collectionVariables.get('email_tx_id')));",
									"    pm.expect(jsonData.some(x => x.msgId === pm.collectionVariables.get('email_msg_id')));",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{ches_host}}/api/v1/status?tag=email_{{session_tag}}",
							"host": [
								"{{ches_host}}"
							],
							"path": [
								"api",
								"v1",
								"status"
							],
							"query": [
								{
									"key": "msgId",
									"value": "7ebbbdad-0671-44aa-91d9-36151308df73",
									"disabled": true
								},
								{
									"key": "status",
									"value": "completed",
									"disabled": true
								},
								{
									"key": "tag",
									"value": "tag",
									"disabled": true
								},
								{
									"key": "tag",
									"value": "email_{{session_tag}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "send email merge (bulk emails)",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "5b6a773d-64af-4a30-b24d-76c23651ceca",
								"exec": [
									"var d = new Date();",
									"var delayTS = d.setMinutes(d.getMinutes() + 2);",
									"pm.variables.set('delay_ts', delayTS);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "98164bcc-3a7e-43d1-a26e-3191f8463a24",
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('txId');",
									"    pm.expect(jsonData).to.have.property('messages');",
									"    pm.expect(jsonData.messages).to.have.length(2);",
									"    pm.expect(jsonData.messages.every(x => x.to === pm.variables.get('email_to')));",
									"    pm.collectionVariables.set('merge_msg_id', jsonData.messages[0].msgId);",
									"    pm.collectionVariables.set('merge_tx_id', jsonData.txId);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"bodyType\": \"text\",\n  \"body\": \"Hello from CHES. The following is filled in by during the merge: {{ hello }}\",\n  \"contexts\": [\n    {\n      \"to\": [\"{{email_to}}\"],\n      \"context\": {\n        \"orange\": {\n          \"target\": \"delay\"\n        },\n        \"hello\": \"This message was sent with a 2 minute delay.\"\n      },\n      \"delayTS\": {{delay_ts}},\n      \"tag\": \"merge_{{session_tag}}\"\n    },\n    {\n      \"to\": [\"{{email_to}}\"],\n      \"context\": {\n        \"orange\": {\n          \"target\": \"immediate\"\n        },\n        \"hello\": \"This message was sent immediately.\"\n      },\n      \"delayTS\": 0,\n      \"tag\": \"merge_{{session_tag}}\"\n    }\n  ],\n  \"encoding\": \"utf-8\",\n  \"from\": \"{{email_to}}\",\n  \"priority\": \"normal\",\n  \"subject\": \"CHES Email Merge {{ orange.target }}\",\n  \"attachments\": [\n    {\n      \"content\": \"IyBDb21tb24gSG9zdGVkIEVtYWlsIFNlcnZpY2UKTmVlZCB0byBzZW5kIGVtYWlscz8gTmVlZCB0byBzZW5kIGJ1bGsgZW1haWxzPyBOZWVkIHRvIHNlbmQgdGVtcGxhdGVkIG1lc3NhZ2VzIHBvcHVsYXRlZCBmcm9tIGEgZGF0YXNldD8gTmVlZCB0byBzY2hlZHVsZSBkZWxpdmVyeSBvZiBlbWFpbHM/ICAKClRoZSBDSEVTIEFQSSBpcyBjYXBhYmxlIG9mIGRvaW5nIHRoZSBmb2xsb3dpbmc6CgoqIFNlbmQgZW1haWxzIHdpdGggYXR0YWNobWVudHMgYW5kIHNwZWNpYWwgYnVzaW5lc3MgdGFnZ2luZy4gCiogU2NoZWR1bGUgZm9yIGRlbGF5ZWQgZGVsaXZlcnksIHdpdGggYWJpbGl0eSB0byBjYW5jZWwuIAoqIENyZWF0ZSBidWxrIGVtYWlsIG1lcmdlIHdpdGggeW91ciBvd24gdGVtcGxhdGVzLiAgCiogU2VuZCBwbGFpbiB0ZXh0IG9yIEhUTUwgZW1haWxzLiAKKiBUcmFjayB0aGUgc3RhdHVzIG9mIHlvdXIgcmVxdWVzdC4gCgpSZXZpZXcgdGhlIHYxIEFQSSBzcGVjaWZpY2F0aW9uIFtoZXJlXShodHRwczovL2NoZXMtbWFzdGVyLTlmMGZiZS1wcm9kLnBhdGhmaW5kZXIuZ292LmJjLmNhL2FwaS92MS9kb2NzKS4gIAoKU2VlIFNob3djYXNlIGFwcGxpY2F0aW9uIFtoZXJlXShodHRwczovL21zc2MucGF0aGZpbmRlci5nb3YuYmMuY2EvbXNzYy8pLiAgCgpTZWUgc291cmNlIGNvZGUgW2hlcmVdKGh0dHBzOi8vZ2l0aHViLmNvbS9iY2dvdi9jb21tb24taG9zdGVkLWVtYWlsLXNlcnZpY2UpLiAgCgpNb3JlIGluZm9ybWF0aW9uIFtoZXJlXShodHRwczovL2JjZ292LmdpdGh1Yi5pby9jb21tb24taG9zdGVkLWVtYWlsLXNlcnZpY2UvKS4gIAoKIyBDb21tb24gRG9jdW1lbnQgR2VuZXJhdGlvbiBTZXJ2aWNlCkxldmVyYWdlIHlvdXIgc3RydWN0dXJlZCBkYXRhc2V0cyBhbmQgeW91ciBidXNpbmVzcyB0ZW1wbGF0ZXMgdG8gYXV0b21hdGljYWxseSBwb3B1bGF0ZSBwcmludGFibGUgZG9jdW1lbnRzLCBzcHJlYWRzaGVldHMsIHByZXNlbnRhdGlvbnMsIG9yIFBERnMgdXNpbmcgdGhlIENvbW1vbiBEb2N1bWVudCBHZW5lcmF0aW9uIFNlcnZpY2UuICAKClRoZSBBUEkgY2FuIGdlbmVyYXRlIGFueSBQREYgb3IgWE1MLWJhc2VkIGRvY3VtZW50cyBzdWNoIGFzIGRvY3gsIHhsc3gsIHBwdHgsIG9kdCwgb2RzLCBvZHAsIGFuZCBodG1sLiBFeGFtcGxlcyBvZiBYTUwtYmFzZWQgZWRpdG9ycyBpbmNsdWRlIE1pY3Jvc29mdCBPZmZpY2XihKIsIExpYnJlT2ZmaWNl4oSiIG9yIE9wZW5PZmZpY2XihKIuCgpUaGUgQ0RPR1MgQVBJIGlzIGNhcGFibGUgb2YgZG9pbmcgdGhlIGZvbGxvd2luZzoKCiogTWVyZ2UgY29tcGxleCBkYXRhc2V0cyBpbnRvIGRvY3VtZW50IHRlbXBsYXRlcy4gCiogU3VwcG9ydHMgYW55IFhNTC1iYXNlZCBkb2N1bWVudCB0ZW1wbGF0ZXMgaW5jbHVkaW5nIGJ1dCBub3QgbGltaXRlZCB0byBNaWNyb3NvZnQgT2ZmaWNl4oSiLCBMaWJyZU9mZmljZeKEoiBvciBPcGVuT2ZmaWNl4oSiLiAKKiBSaWNoIHRlbXBsYXRpbmcgbGlicmFyeSBzdXBwb3J0IGxldmVyYWdpbmcgdGhlIENhcmJvbmUgSlMgbGlicmFyeS4gCgpSZXZpZXcgdGhlIHYxIEFQSSBzcGVjaWZpY2F0aW9uIFtoZXJlXShodHRwczovL2Nkb2dzLW1hc3Rlci1pZGNxdmwtcHJvZC5wYXRoZmluZGVyLmdvdi5iYy5jYS9hcGkvdjEvZG9jcyN0YWcvRG9jR2VuKS4gIAoKUmV2aWV3IHRoZSB2MiBBUEkgc3BlY2lmaWNhdGlvbiBbaGVyZV0oaHR0cHM6Ly9jZG9ncy1tYXN0ZXItaWRjcXZsLXByb2QucGF0aGZpbmRlci5nb3YuYmMuY2EvYXBpL3YyL2RvY3MjdGFnL0RvY0dlbikuICAKClNlZSBTaG93Y2FzZSBhcHBsaWNhdGlvbiBbaGVyZV0oaHR0cHM6Ly9kZ3JzYy5wYXRoZmluZGVyLmdvdi5iYy5jYS9kZ3JzYy8pLiAgCgpTZWUgc291cmNlIGNvZGUgW2hlcmVdKGh0dHBzOi8vZ2l0aHViLmNvbS9iY2dvdi9jb21tb24tZG9jdW1lbnQtZ2VuZXJhdGlvbi1zZXJ2aWNlKS4gIAoKTW9yZSBpbmZvcm1hdGlvbiBbaGVyZV0oaHR0cHM6Ly9iY2dvdi5naXRodWIuaW8vY29tbW9uLWRvY3VtZW50LWdlbmVyYXRpb24tc2VydmljZS8pLiAgCgoKIyMjIyBDb21tb24gU2VydmljZXMgU2hvd2Nhc2UKVmlzaXQgW0NvbW1vbiBTZXJ2aWNlcyBTaG93Y2FzZV0oaHR0cHM6Ly9iY2dvdi5naXRodWIuaW8vY29tbW9uLXNlcnZpY2Utc2hvd2Nhc2UvKSBmb3IgbW9yZSBpbmZvcm1hdGlvbjsgaW5jbHVkaW5nIGhvdyB0byBnZXQgYWNjZXNzIHRvIGNvbW1vbiBzZXJ2aWNlcy4gICA=\",\n      \"contentType\": \"text/markdown\",\n      \"encoding\": \"base64\",\n      \"filename\": \"readme.md\"\n    }\n  ]\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "{{ches_host}}/api/v1/emailMerge",
							"host": [
								"{{ches_host}}"
							],
							"path": [
								"api",
								"v1",
								"emailMerge"
							],
							"query": [
								{
									"key": "devMode",
									"value": "true",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "get status of merge messages with txId",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "2b5bf824-2f57-492a-a3bf-fdab849e34a5",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.be.an('array');",
									"    pm.expect(jsonData).to.have.lengthOf(2);",
									"    pm.expect(jsonData.every(x => x.txId === pm.collectionVariables.get('merge_tx_id')));",
									"    pm.expect(jsonData.some(x => x.msgId === pm.collectionVariables.get('merge_msg_id')));",
									"    pm.expect(jsonData.some(x => x.status === 'pending'));",
									"    pm.collectionVariables.set('pending_msg_id', jsonData.find(x => x.status === 'pending').msgId);",
									"});"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "221f02cd-81b3-4039-9684-cc5d79d3678f",
								"exec": [
									"setTimeout(function(){}, 2000);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{ches_host}}/api/v1/status?txId={{merge_tx_id}}",
							"host": [
								"{{ches_host}}"
							],
							"path": [
								"api",
								"v1",
								"status"
							],
							"query": [
								{
									"key": "msgId",
									"value": "7ebbbdad-0671-44aa-91d9-36151308df73",
									"disabled": true
								},
								{
									"key": "status",
									"value": "completed",
									"disabled": true
								},
								{
									"key": "tag",
									"value": "tag",
									"disabled": true
								},
								{
									"key": "txId",
									"value": "{{merge_tx_id}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "send email message with delay",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "3d2ade78-8f5c-4108-85ea-380bcac733e9",
								"exec": [
									"var d = new Date();",
									"var delayTS = d.setMinutes(d.getMinutes() + 5);",
									"pm.variables.set('delay_ts', delayTS);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "9df9da19-543f-4aaa-be52-11742374f0d6",
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('txId');",
									"    pm.expect(jsonData).to.have.property('messages');",
									"    pm.expect(jsonData.messages).to.have.length(1);",
									"    pm.expect(jsonData.messages[0]).to.have.property('to');",
									"    pm.expect(jsonData.messages[0].to[0]).to.eql(pm.variables.get('email_to'));",
									"    pm.collectionVariables.set('delay_msg_id', jsonData.messages[0].msgId);",
									"    pm.collectionVariables.set('delay_tx_id', jsonData.txId);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"bcc\": [],\n  \"bodyType\": \"html\",\n  \"body\": \"<h1>Welcome to Common Services</h1><p>Delayed message sent by <a href='https://bcgov.github.io/common-hosted-email-service/'>CHES</a></p>\",\n  \"cc\": [],\n  \"delayTS\": {{delay_ts}},\n  \"encoding\": \"utf-8\",\n  \"from\": \"{{email_to}}\",\n  \"priority\": \"normal\",\n  \"subject\": \"CHES Email Message (Delayed)\",\n  \"to\": [\"{{email_to}}\"],\n  \"tag\": \"delayed_{{session_tag}}\",\n  \"attachments\": []\n}\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{ches_host}}/api/v1/email",
							"host": [
								"{{ches_host}}"
							],
							"path": [
								"api",
								"v1",
								"email"
							],
							"query": [
								{
									"key": "devMode",
									"value": "true",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "cancel delayed message by txId",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "2048739b-ff19-40f3-bc8b-bd5441c88cf4",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(202);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{ches_host}}/api/v1/cancel?txId={{delay_tx_id}}",
							"host": [
								"{{ches_host}}"
							],
							"path": [
								"api",
								"v1",
								"cancel"
							],
							"query": [
								{
									"key": "msgId",
									"value": "dd42b60e-d420-4fdb-95fa-e31dd78479eb",
									"disabled": true
								},
								{
									"key": "status",
									"value": "completed",
									"disabled": true
								},
								{
									"key": "tag",
									"value": "tag",
									"disabled": true
								},
								{
									"key": "txId",
									"value": "{{delay_tx_id}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "get status of cancelled message by txId",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "8169bbdf-3255-409e-ab95-afd82936a720",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.be.an('array');",
									"    pm.expect(jsonData).to.have.lengthOf(1);",
									"    pm.expect(jsonData[0].txId === pm.collectionVariables.get('delay_tx_id'));",
									"    pm.expect(jsonData[0].msgId === pm.collectionVariables.get('delay_msg_id'));",
									"    pm.expect(jsonData[0].status === 'cancelled');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{ches_host}}/api/v1/status?txId={{delay_tx_id}}",
							"host": [
								"{{ches_host}}"
							],
							"path": [
								"api",
								"v1",
								"status"
							],
							"query": [
								{
									"key": "msgId",
									"value": "7ebbbdad-0671-44aa-91d9-36151308df73",
									"disabled": true
								},
								{
									"key": "status",
									"value": "completed",
									"disabled": true
								},
								{
									"key": "tag",
									"value": "tag",
									"disabled": true
								},
								{
									"key": "txId",
									"value": "{{delay_tx_id}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "send email message with delay (#2)",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "ae6ba61b-24d5-4eb8-bbcb-205c6a0f1bf3",
								"exec": [
									"var d = new Date();",
									"var delayTS = d.setMinutes(d.getMinutes() + 5);",
									"pm.variables.set('delay_ts', delayTS);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "c752a82f-cdb1-4e8b-9629-f48907fd3351",
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('txId');",
									"    pm.expect(jsonData).to.have.property('messages');",
									"    pm.expect(jsonData.messages).to.have.length(1);",
									"    pm.expect(jsonData.messages[0]).to.have.property('to');",
									"    pm.expect(jsonData.messages[0].to[0]).to.eql(pm.variables.get('email_to'));",
									"    pm.collectionVariables.set('delay_2_msg_id', jsonData.messages[0].msgId);",
									"    pm.collectionVariables.set('delay_2_tx_id', jsonData.txId);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"bcc\": [],\n  \"bodyType\": \"html\",\n  \"body\": \"<h1>Welcome to Common Services</h1><p>Delayed message sent by <a href='https://bcgov.github.io/common-hosted-email-service/'>CHES</a></p>\",\n  \"cc\": [],\n  \"delayTS\": {{delay_ts}},\n  \"encoding\": \"utf-8\",\n  \"from\": \"{{email_to}}\",\n  \"priority\": \"normal\",\n  \"subject\": \"CHES Email Message (Delayed)\",\n  \"to\": [\"{{email_to}}\"],\n  \"tag\": \"delayed_2_{{session_tag}}\",\n  \"attachments\": []\n}\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{ches_host}}/api/v1/email",
							"host": [
								"{{ches_host}}"
							],
							"path": [
								"api",
								"v1",
								"email"
							],
							"query": [
								{
									"key": "devMode",
									"value": "true",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "cancel delayed message by tag",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "6552510d-fbb5-4579-842f-8ca81e926055",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(202);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{ches_host}}/api/v1/cancel?tag=delayed_2_{{session_tag}}",
							"host": [
								"{{ches_host}}"
							],
							"path": [
								"api",
								"v1",
								"cancel"
							],
							"query": [
								{
									"key": "msgId",
									"value": "dd42b60e-d420-4fdb-95fa-e31dd78479eb",
									"disabled": true
								},
								{
									"key": "status",
									"value": "completed",
									"disabled": true
								},
								{
									"key": "tag",
									"value": "tag",
									"disabled": true
								},
								{
									"key": "tag",
									"value": "delayed_2_{{session_tag}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "get status of cancelled message by tag",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9531b650-9bad-48a4-8313-8f3f560715f9",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.be.an('array');",
									"    pm.expect(jsonData).to.have.lengthOf(1);",
									"    pm.expect(jsonData[0].txId === pm.collectionVariables.get('delay_2_tx_id'));",
									"    pm.expect(jsonData[0].msgId === pm.collectionVariables.get('delay_2_msg_id'));",
									"    pm.expect(jsonData[0].status === 'cancelled');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{ches_host}}/api/v1/status?tag=delayed_2_{{session_tag}}",
							"host": [
								"{{ches_host}}"
							],
							"path": [
								"api",
								"v1",
								"status"
							],
							"query": [
								{
									"key": "msgId",
									"value": "7ebbbdad-0671-44aa-91d9-36151308df73",
									"disabled": true
								},
								{
									"key": "status",
									"value": "completed",
									"disabled": true
								},
								{
									"key": "tag",
									"value": "tag",
									"disabled": true
								},
								{
									"key": "tag",
									"value": "delayed_2_{{session_tag}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "send email message with delay (#3)",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "1cc9d754-a59d-4832-9903-d9eb316ed0a6",
								"exec": [
									"var d = new Date();",
									"var delayTS = d.setMinutes(d.getMinutes() + 5);",
									"pm.variables.set('delay_ts', delayTS);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "4bd42940-322e-4ee7-81d1-8ac0ceab7512",
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('txId');",
									"    pm.expect(jsonData).to.have.property('messages');",
									"    pm.expect(jsonData.messages).to.have.length(1);",
									"    pm.expect(jsonData.messages[0]).to.have.property('to');",
									"    pm.expect(jsonData.messages[0].to[0]).to.eql(pm.variables.get('email_to'));",
									"    pm.collectionVariables.set('delay_3_msg_id', jsonData.messages[0].msgId);",
									"    pm.collectionVariables.set('delay_3_tx_id', jsonData.txId);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"bcc\": [],\n  \"bodyType\": \"html\",\n  \"body\": \"<h1>Welcome to Common Services</h1><p>Delayed message sent by <a href='https://bcgov.github.io/common-hosted-email-service/'>CHES</a></p>\",\n  \"cc\": [],\n  \"delayTS\": {{delay_ts}},\n  \"encoding\": \"utf-8\",\n  \"from\": \"{{email_to}}\",\n  \"priority\": \"normal\",\n  \"subject\": \"CHES Email Message (Delayed)\",\n  \"to\": [\"{{email_to}}\"],\n  \"tag\": \"delayed_3_{{session_tag}}\",\n  \"attachments\": []\n}\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{ches_host}}/api/v1/email",
							"host": [
								"{{ches_host}}"
							],
							"path": [
								"api",
								"v1",
								"email"
							],
							"query": [
								{
									"key": "devMode",
									"value": "true",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "get status of delayed message (#3)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "3205cca5-2d2d-445a-a123-1342c275b1fa",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.txId === pm.collectionVariables.get('delay_3_tx_id'));",
									"    pm.expect(jsonData.msgId === pm.collectionVariables.get('delay_3_msg_id'));",
									"    pm.expect(jsonData.status === 'pending');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{ches_host}}/api/v1/status/{{delay_3_msg_id}}",
							"host": [
								"{{ches_host}}"
							],
							"path": [
								"api",
								"v1",
								"status",
								"{{delay_3_msg_id}}"
							],
							"query": [
								{
									"key": "msgId",
									"value": "7ebbbdad-0671-44aa-91d9-36151308df73",
									"disabled": true
								},
								{
									"key": "status",
									"value": "completed",
									"disabled": true
								},
								{
									"key": "tag",
									"value": "tag",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "cancel delayed message (#3)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "92658401-ce1e-4b3e-9dd3-8e5a8cb55417",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(202);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{ches_host}}/api/v1/cancel/{{delay_3_msg_id}}",
							"host": [
								"{{ches_host}}"
							],
							"path": [
								"api",
								"v1",
								"cancel",
								"{{delay_3_msg_id}}"
							],
							"query": [
								{
									"key": "msgId",
									"value": "dd42b60e-d420-4fdb-95fa-e31dd78479eb",
									"disabled": true
								},
								{
									"key": "status",
									"value": "completed",
									"disabled": true
								},
								{
									"key": "tag",
									"value": "tag",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "get status of cancelled message (#3)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "f90a95c6-9d7d-4173-925a-ba1730aea238",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.txId === pm.collectionVariables.get('delay_3_tx_id'));",
									"    pm.expect(jsonData.msgId === pm.collectionVariables.get('delay_3_msg_id'));",
									"    pm.expect(jsonData.status === 'cancelled');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{ches_host}}/api/v1/status/{{delay_3_msg_id}}",
							"host": [
								"{{ches_host}}"
							],
							"path": [
								"api",
								"v1",
								"status",
								"{{delay_3_msg_id}}"
							],
							"query": [
								{
									"key": "msgId",
									"value": "7ebbbdad-0671-44aa-91d9-36151308df73",
									"disabled": true
								},
								{
									"key": "status",
									"value": "completed",
									"disabled": true
								},
								{
									"key": "tag",
									"value": "tag",
									"disabled": true
								}
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "10ff8eb3-cfaf-44a4-b5e7-06558d3e9d42",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "9f641a74-5cc4-45fd-9b62-6d87e054429f",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "CDOGS - Document Generation Service",
			"item": [
				{
					"name": "health check",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "e5b832d6-56d0-4d33-a572-57636ef9dba8",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{cdogs_host}}/api/v2/health",
							"host": [
								"{{cdogs_host}}"
							],
							"path": [
								"api",
								"v2",
								"health"
							]
						}
					},
					"response": []
				},
				{
					"name": "get fileTypes",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9c19d0f9-c8a5-43d2-a335-20553b90d5a8",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('dictionary');",
									"",
									"    pm.expect(jsonData.dictionary).to.have.property('csv');",
									"    pm.expect(jsonData.dictionary.csv).to.have.length.of.at.least(1);",
									"",
									"    pm.expect(jsonData.dictionary).to.have.property('docx');",
									"    pm.expect(jsonData.dictionary.docx).to.have.length.of.at.least(1);",
									"",
									"    pm.expect(jsonData.dictionary).to.have.property('html');",
									"    pm.expect(jsonData.dictionary.html).to.have.length.of.at.least(1);",
									"",
									"    pm.expect(jsonData.dictionary).to.have.property('odt');",
									"    pm.expect(jsonData.dictionary.odt).to.have.length.of.at.least(1);",
									"",
									"    pm.expect(jsonData.dictionary).to.have.property('pptx');",
									"    pm.expect(jsonData.dictionary.pptx).to.have.length.of.at.least(1);",
									"",
									"    pm.expect(jsonData.dictionary).to.have.property('rtf');",
									"    pm.expect(jsonData.dictionary.rtf).to.have.length.of.at.least(1);",
									" ",
									"    pm.expect(jsonData.dictionary).to.have.property('txt');",
									"    pm.expect(jsonData.dictionary.txt).to.have.length.of.at.least(1);",
									"",
									"    pm.expect(jsonData.dictionary).to.have.property('xlsx');",
									"    pm.expect(jsonData.dictionary.xlsx).to.have.length.of.at.least(1);",
									"   ",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{cdogs_host}}/api/v2/fileTypes",
							"host": [
								"{{cdogs_host}}"
							],
							"path": [
								"api",
								"v2",
								"fileTypes"
							]
						}
					},
					"response": []
				},
				{
					"name": "upload template, cache and render report",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "6f63baa5-0b89-43a1-91f6-c4f171e61fd2",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"    pm.response.to.have.header('X-Report-Name');",
									"    pm.response.to.have.header('X-Template-Hash');",
									"    pm.response.to.have.header('X-Report-Hash');",
									"",
									"    pm.collectionVariables.set('cdogs_template_hash', pm.response.headers.get('X-Template-Hash'));",
									"    pm.collectionVariables.set('cdogs_report_hash', pm.response.headers.get('X-Report-Hash'));",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {}
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"data\": {\n        \"firstName\": \"Jane\",\n        \"lastName\": \"Smith\",\n        \"title\": \"CEO\"\n    },\n    \"formatters\": \"{\\\"myFormatter\\\":\\\"_function_myFormatter|function(data) { return data.slice(1); }\\\",\\\"myOtherFormatter\\\":\\\"_function_myOtherFormatter|function(data) {return data.slice(2);}\\\"}\",\n    \"options\": {\n        \"cacheReport\": true,\n        \"convertTo\": \"pdf\",\n        \"overwrite\": true,\n        \"reportName\": \"{d.firstName}-{d.lastName}.pdf\"\n    },\n    \"template\": {\n        \"encodingType\": \"base64\",\n        \"fileType\": \"docx\",\n        \"content\": \"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\"\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{cdogs_host}}/api/v2/template/render",
							"host": [
								"{{cdogs_host}}"
							],
							"path": [
								"api",
								"v2",
								"template",
								"render"
							]
						}
					},
					"response": []
				},
				{
					"name": "check if template exists (200)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "3449efd8-daca-4cdd-92ad-cc0342e2b275",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"    pm.response.to.have.header('X-Template-Hash');",
									"    pm.response.to.be.header('X-Template-Hash', pm.collectionVariables.get('cdogs_template_hash'));",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json",
								"disabled": true
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [],
							"options": {
								"formdata": {}
							}
						},
						"url": {
							"raw": "{{cdogs_host}}/api/v2/template/{{cdogs_template_hash}}",
							"host": [
								"{{cdogs_host}}"
							],
							"path": [
								"api",
								"v2",
								"template",
								"{{cdogs_template_hash}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "download existing template",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "4acbfd1c-0b87-426b-ae48-b9d15a09564a",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"    pm.response.to.have.header('X-Template-Hash');",
									"    pm.response.to.be.header('X-Template-Hash', pm.collectionVariables.get('cdogs_template_hash'));",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json",
								"disabled": true
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [],
							"options": {
								"formdata": {}
							}
						},
						"url": {
							"raw": "{{cdogs_host}}/api/v2/template/{{cdogs_template_hash}}?download=true",
							"host": [
								"{{cdogs_host}}"
							],
							"path": [
								"api",
								"v2",
								"template",
								"{{cdogs_template_hash}}"
							],
							"query": [
								{
									"key": "download",
									"value": "true",
									"description": "boolean, indicate if the response should return the binary file"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "download cached report",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "5e6257c4-3cf1-4a10-be91-5df3b0148b97",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"    pm.response.to.have.header('X-Report-Hash');",
									"    pm.response.to.be.header('X-Report-Hash', pm.collectionVariables.get('cdogs_report_hash'));",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "{{cdogs_host}}/api/v2/render/{{cdogs_report_hash}}?download=true",
							"host": [
								"{{cdogs_host}}"
							],
							"path": [
								"api",
								"v2",
								"render",
								"{{cdogs_report_hash}}"
							],
							"query": [
								{
									"key": "download",
									"value": "true",
									"description": "boolean, Indicate if the response should return the binary file"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "delete cached report",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "caeb124b-9da4-44b7-b4dd-8de52ca52906",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "{{cdogs_host}}/api/v2/render/{{cdogs_report_hash}}",
							"host": [
								"{{cdogs_host}}"
							],
							"path": [
								"api",
								"v2",
								"render",
								"{{cdogs_report_hash}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "get non-existent report (404)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "7ae9fc38-b9db-4735-855e-85c502ddb5da",
								"exec": [
									"pm.test(\"Status code is 404\", function () {",
									"    pm.response.to.have.status(404);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "{{cdogs_host}}/api/v2/render/{{cdogs_report_hash}}?download=true",
							"host": [
								"{{cdogs_host}}"
							],
							"path": [
								"api",
								"v2",
								"render",
								"{{cdogs_report_hash}}"
							],
							"query": [
								{
									"key": "download",
									"value": "true",
									"description": "boolean, Indicate if the response should return the binary file"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "delete non-existent report (404)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "29513042-577b-43cf-af51-d7f8cd6cd3bf",
								"exec": [
									"pm.test(\"Status code is 404\", function () {",
									"    pm.response.to.have.status(404);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "{{cdogs_host}}/api/v2/render/{{cdogs_report_hash}}",
							"host": [
								"{{cdogs_host}}"
							],
							"path": [
								"api",
								"v2",
								"render",
								"{{cdogs_report_hash}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "render using existing template (no cache)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a62bbab6-db18-46c3-85f0-41d54933b233",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"    pm.response.to.have.header('X-Report-Name');",
									"    pm.response.to.have.header('X-Template-Hash');",
									"    pm.response.to.be.header('X-Template-Hash', pm.collectionVariables.get('cdogs_template_hash'));",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"data\": {\n        \"firstName\": \"Joe\",\n        \"lastName\": \"Smith\",\n        \"title\": \"Head of Marketing\"\n    },\n    \"formatters\": \"{\\\"myFormatter\\\":\\\"_function_myFormatter|function(data) { return data.slice(1); }\\\",\\\"myOtherFormatter\\\":\\\"_function_myOtherFormatter|function(data) {return data.slice(2);}\\\"}\",\n    \"options\": {\n        \"cacheReport\": false,\n        \"convertTo\": \"pdf\",\n        \"overwrite\": true,\n        \"reportName\": \"filename-{d.firstName}_{d.lastName}.pdf\"\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{cdogs_host}}/api/v2/template/{{cdogs_template_hash}}/render",
							"host": [
								"{{cdogs_host}}"
							],
							"path": [
								"api",
								"v2",
								"template",
								"{{cdogs_template_hash}}",
								"render"
							]
						}
					},
					"response": []
				},
				{
					"name": "delete cached template",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "84782bcf-64b7-4752-be91-c0ebd65fb42e",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json",
								"disabled": true
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [],
							"options": {
								"formdata": {}
							}
						},
						"url": {
							"raw": "{{cdogs_host}}/api/v2/template/{{cdogs_template_hash}}",
							"host": [
								"{{cdogs_host}}"
							],
							"path": [
								"api",
								"v2",
								"template",
								"{{cdogs_template_hash}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "delete non-existent template (404)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "5dfab4e6-0c7b-4f04-9830-50514a065d2a",
								"exec": [
									"pm.test(\"Status code is 404\", function () {",
									"    pm.response.to.have.status(404);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json",
								"disabled": true
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [],
							"options": {
								"formdata": {}
							}
						},
						"url": {
							"raw": "{{cdogs_host}}/api/v2/template/{{cdogs_template_hash}}",
							"host": [
								"{{cdogs_host}}"
							],
							"path": [
								"api",
								"v2",
								"template",
								"{{cdogs_template_hash}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "get non-existent template (404)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "c05cbad8-04b4-4a6e-8c15-685e6635043d",
								"exec": [
									"pm.test(\"Status code is 404\", function () {",
									"    pm.response.to.have.status(404);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json",
								"disabled": true
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [],
							"options": {
								"formdata": {}
							}
						},
						"url": {
							"raw": "{{cdogs_host}}/api/v2/template/{{cdogs_template_hash}}",
							"host": [
								"{{cdogs_host}}"
							],
							"path": [
								"api",
								"v2",
								"template",
								"{{cdogs_template_hash}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "render using non-existing template (404)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "3de0b9c5-ef8d-42d8-a170-27306646dfba",
								"exec": [
									"pm.test(\"Status code is 404\", function () {",
									"    pm.response.to.have.status(404);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"data\": {\n        \"firstName\": \"Joe\",\n        \"lastName\": \"Smith\",\n        \"title\": \"Head of Marketing\"\n    },\n    \"formatters\": \"{\\\"myFormatter\\\":\\\"_function_myFormatter|function(data) { return data.slice(1); }\\\",\\\"myOtherFormatter\\\":\\\"_function_myOtherFormatter|function(data) {return data.slice(2);}\\\"}\",\n    \"options\": {\n        \"cacheReport\": true,\n        \"convertTo\": \"pdf\",\n        \"overwrite\": true,\n        \"reportName\": \"filename-{d.firstName}_{d.lastName}.pdf\"\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{cdogs_host}}/api/v2/template/{{cdogs_template_hash}}/render",
							"host": [
								"{{cdogs_host}}"
							],
							"path": [
								"api",
								"v2",
								"template",
								"{{cdogs_template_hash}}",
								"render"
							]
						}
					},
					"response": []
				},
				{
					"name": "upload template (select local template for body)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "4ede54c1-45db-4572-9787-fddc9475eca4",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"    pm.response.to.have.header('X-Template-Hash');",
									"",
									"    pm.collectionVariables.set('cdogs_template_hash_2', pm.response.headers.get('X-Template-Hash'));",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json",
								"disabled": true
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "template",
									"contentType": "",
									"description": "a template, binary file content",
									"type": "file",
									"src": []
								}
							],
							"options": {
								"formdata": {}
							}
						},
						"url": {
							"raw": "{{cdogs_host}}/api/v2/template",
							"host": [
								"{{cdogs_host}}"
							],
							"path": [
								"api",
								"v2",
								"template"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		}
	],
	"auth": {
		"type": "oauth2",
		"oauth2": [
			{
				"key": "accessToken",
				"value": "{{access_token}}",
				"type": "string"
			},
			{
				"key": "tokenType",
				"value": "bearer",
				"type": "string"
			},
			{
				"key": "addTokenTo",
				"value": "header",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "a48ceb83-4c6a-475e-97ff-136c13e57894",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "788c7d19-7777-4cc2-a22e-712e01a40fe7",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"id": "dda72f59-41fe-45ca-bb86-60f042c24faa",
			"key": "access_token",
			"value": "eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI5Rm5UcVlVRkxnbTFIbTJIOThnWEJhWnpPcXBnMFlWU1NvNHBESlVuNXZ3In0.eyJqdGkiOiJhNjdiOWQyNy0yMmI0LTRhYjUtYjQ4MC03MzBkMDMxYTA2NzgiLCJleHAiOjE1OTI1MTAwNTMsIm5iZiI6MCwiaWF0IjoxNTkyNDkyMDUzLCJpc3MiOiJodHRwczovL3Nzby1kZXYucGF0aGZpbmRlci5nb3YuYmMuY2EvYXV0aC9yZWFsbXMvamJkNnJueHciLCJhdWQiOlsiQ0RPR1MiLCJDSEVTIl0sInN1YiI6IjUwMmEzOTQ3LTM1YWItNDViMS04YmExLWJmOGM4NTNlNjkwZiIsInR5cCI6IkJlYXJlciIsImF6cCI6IlRFTVBfU0VSVklDRV9DTElFTlQiLCJhdXRoX3RpbWUiOjAsInNlc3Npb25fc3RhdGUiOiJjZjJjZmU3Yy05NTEwLTQ3NzktYmI1Ni00NjJhYzEyMDBkYmMiLCJhY3IiOiIxIiwicmVzb3VyY2VfYWNjZXNzIjp7IlRFTVBfU0VSVklDRV9DTElFTlQiOnsicm9sZXMiOlsidW1hX3Byb3RlY3Rpb24iLCJDT01NT05fU0VSVklDRVMiXX0sIkNET0dTIjp7InJvbGVzIjpbIkdFTkVSQVRPUiIsInVtYV9wcm90ZWN0aW9uIl19LCJDSEVTIjp7InJvbGVzIjpbIkVNQUlMRVIiLCJ1bWFfcHJvdGVjdGlvbiJdfX0sInNjb3BlIjoiIiwiY2xpZW50SWQiOiJURU1QX1NFUlZJQ0VfQ0xJRU5UIiwiY2xpZW50SG9zdCI6IjI0LjY5LjE1NC41NiIsImNsaWVudEFkZHJlc3MiOiIyNC42OS4xNTQuNTYifQ.XX4g8EzTg7zO0u1yJ5aw_cDk69BnZwPOcap5amKRRApmoUw3dhUU4-pC_LGZ2xkBNgYfs5V9yPU8P1vldmOOmftPsbP4yflHk--4nYdO_8_fcL57uG8knBevswgC8zYNAeafPKC6PLKiV0CpAAtbthSE7hiNYs2GHtJUKmZcIDpkRduwhLG-bN6ePQXOW7y_v7pTeZm1r35AxWEexRxsZEN4QBJhqMsKtM0TfuwOc9-kSFwRzytoTDa2wI5_XyuwU6JEQE_s-icwM0vPzzOOhFM-tUWvJsDxNrQH0o1juF6FwNYWANWJ7g8fOH0nstDDcTPevlnF6ouEvykyhFuq0g",
			"type": "string"
		},
		{
			"id": "c85e1661-8613-4141-9263-1d916fa00ffc",
			"key": "session_tag",
			"value": "cf2cfe7c",
			"type": "string"
		},
		{
			"id": "11b56520-bc3b-4907-bfec-498176d75563",
			"key": "auth_host",
			"value": "https://sso-dev.pathfinder.gov.bc.ca",
			"type": "string"
		},
		{
			"id": "e9952285-fcaa-4c8d-b004-72fd70c3ffa5",
			"key": "cdogs_host",
			"value": "https://cdogs-master-idcqvl-dev.pathfinder.gov.bc.ca",
			"type": "string"
		},
		{
			"id": "7e8d16db-17ce-433e-8acb-a4a08bfcbde4",
			"key": "ches_host",
			"value": "https://ches-master-9f0fbe-dev.pathfinder.gov.bc.ca",
			"type": "string"
		},
		{
			"id": "68056f51-9cc4-4ff8-b2e3-d9babc2b2a65",
			"key": "service_client_id",
			"value": "your_service_client_id",
			"type": "string"
		},
		{
			"id": "70d0b351-0a62-4c8a-9473-321475614fb3",
			"key": "service_client_secret",
			"value": "your_service_client_secret",
			"type": "string"
		},
		{
			"id": "5de890b7-613f-4679-8b0e-8c720289f902",
			"key": "email_to",
			"value": "your@email.here",
			"type": "string"
		}
	],
	"protocolProfileBehavior": {}
}
